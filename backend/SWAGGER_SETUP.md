# Swagger API 文档设置

## 生成 Swagger 文档

1. 安装 Swag CLI：
```bash
go install github.com/swaggo/swag/cmd/swag@latest
```

2. 在 backend 目录下运行：
```bash
cd backend
swag init
```

这将在 `backend/docs` 目录下生成 Swagger 文档文件。

3. 取消注释 `cmd/main.go` 中的以下行：
```go
_ "github.com/video-manager/backend/docs" // docs is generated by Swag CLI
```

4. 重新编译并运行后端服务。

## 访问 Swagger 文档

- 直接访问：http://localhost:8080/swagger/index.html
- 通过前端代理：http://localhost:5173/swagger（前端已配置代理）

## 使用 Swagger UI

1. 打开 Swagger 文档页面
2. 点击右上角的 "Authorize" 按钮
3. 输入您的 Bearer Token（格式：`Bearer <your-token>`）
4. 点击 "Authorize" 确认
5. 现在可以在 Swagger UI 中测试所有需要认证的 API 端点

## Token 获取

您可以通过以下方式获取 Token：
1. 登录系统后，在 "Token 管理" 页面复制 Token
2. 或者通过登录 API 获取：
   ```bash
   curl -X POST http://localhost:8080/api/auth/login \
     -H "Content-Type: application/json" \
     -d '{"username":"admin","password":"admin123"}'
   ```

